<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Now | Relax & Renew RMT</title>
    <meta name="description" content="Book your mobile RMT massage therapy session in Niagara Region. View services and pricing.">

    <!-- Meta Pixel -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '701194265870298');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=701194265870298&ev=PageView&noscript=1"
    /></noscript>

    <!-- Google Tag / Ads -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17575022013"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-J4NC9FL44H');
        gtag('config', 'AW-17575022013');
    </script>

    <!-- Error suppression for third-party scripts -->
    <script>
        window.onerror = function(msg, url) {
            if (!url || (msg && String(msg).toLowerCase().indexOf("script error") > -1)) return true;
            return false;
        };
        window.addEventListener('unhandledrejection', function(event) { event.preventDefault(); });

        window.gm_authFailure = function() {
            console.warn("Google Maps API: Authentication restricted.");
            const inputs = document.querySelectorAll('#address-input-initial');
            inputs.forEach(el => {
                el.placeholder = "Address lookup unavailable";
                el.disabled = false;
                el.style.opacity = "0.8";
            });
        };
    </script>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            gold: '#E0C584',
                            goldHover: '#F0D594',
                            light: '#F0E2C0',
                            dim: 'rgba(240, 226, 192, 0.6)',
                            black: '#050505',
                            dark: '#0a0a0a',
                            panel: 'rgba(20, 20, 20, 0.7)',
                        }
                    },
                    fontFamily: { serif: ['"Cormorant Garamond"', 'serif'] },
                    backgroundImage: {
                        'hero-pattern': "linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.9)), url('https://static.wixstatic.com/media/bf8fef_94f8be278f0f4b8abaee73b95d03b5e2~mv2.png')",
                        'alternate-pattern': "linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0.95)), url('https://static.wixstatic.com/media/bf8fef_7776f5b067be4025a75ed7e149bb1d7e~mv2.jpg')"
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'pulse-subtle': 'pulseSubtle 2s ease-in-out infinite',
                        'shimmer': 'shimmer 1.5s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        pulseSubtle: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.7' },
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '200% 0' },
                            '100%': { backgroundPosition: '-200% 0' }
                        }
                    }
                }
            }
        };
    </script>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        body { background-color: #050505; color: #F0E2C0; font-family: 'Cormorant Garamond', serif; font-size: 1.15rem; line-height: 1.7; overflow-x: hidden; }
        html { scroll-behavior: smooth; }

        /* Navigation - Matching Main Site */
        .fixed-nav { position: fixed; top: 0; left: 0; width: 100%; z-index: 50; transition: all 0.4s ease; background: rgba(5, 5, 5, 0.95); backdrop-filter: blur(15px); border-bottom: 1px solid rgba(224, 197, 132, 0.2); }
        
        .nav-link { color: #F0E2C0; text-transform: uppercase; font-size: 0.85rem; font-weight: 600; letter-spacing: 0.12em; text-decoration: none; position: relative; padding-bottom: 5px; }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 1px; background: #E0C584; transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }

        /* Mobile Menu */
        .mobile-menu { transform: translateX(100%); transition: transform 0.3s ease; }
        .mobile-menu.open { transform: translateX(0); }

        .card-fancy { background: linear-gradient(145deg, rgba(20,20,20,0.9), rgba(10,10,10,0.95)); border: 1px solid rgba(224, 197, 132, 0.15); backdrop-filter: blur(10px); transition: all 0.4s ease; padding: 2.5rem 2rem; position: relative; overflow: hidden; border-radius: 8px; }
        .card-fancy::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #E0C584, transparent); transform: scaleX(0); transition: transform 0.5s ease; }
        .card-fancy:hover::before { transform: scaleX(1); }

        .btn-gold { border: 2px solid #E0C584; color: #E0C584; padding: 0.7rem 2rem; text-transform: uppercase; font-weight: 700; font-size: 0.9rem; letter-spacing: 0.08em; transition: 0.3s; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; cursor: pointer; border-radius: 4px; }
        .btn-gold:hover { background: rgba(224, 197, 132, 0.15); color: #F0E2C0; border-color: #F0D594; }

        .btn-filled { background: #E0C584; color: #000; border: 2px solid #E0C584; padding: 0.75rem 2.5rem; text-transform: uppercase; font-weight: 700; font-size: 0.95rem; letter-spacing: 0.08em; transition: 0.3s; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; cursor: pointer; border-radius: 4px; }
        .btn-filled:hover { background: #F0D594; border-color: #F0D594; transform: translateY(-1px); }

        .pac-container { background-color: #1a1a1a; border: 1px solid #E0C584; font-family: 'Cormorant Garamond', serif; z-index: 200 !important; border-radius: 4px; }
        .pac-item { border-top: 1px solid rgba(224, 197, 132, 0.1); color: #F0E2C0; padding: 10px; cursor: pointer; }
        .pac-item:hover { background-color: rgba(224, 197, 132, 0.1); }
        .pac-item-query { color: #E0C584; }

        .modal-backdrop { background-color: rgba(0, 0, 0, 0.92); backdrop-filter: blur(8px); z-index: 100; }

        .calendar-grid { display: grid; grid-template-columns: repeat(7, minmax(0, 1fr)); gap: 0.5rem; }
        .calendar-day-disabled { opacity: 0.25; cursor: not-allowed; }
        .calendar-day-available { border: 2px solid rgba(224,197,132,0.4); cursor: pointer; transition: all 0.3s ease; background: rgba(224,197,132,0.05); font-size: 1.1rem; font-weight: 600; }
        .calendar-day-available:hover { background: rgba(224,197,132,0.15); border-color: rgba(224,197,132,0.7); transform: translateY(-2px); }
        .calendar-day-selected { background: rgba(224,197,132,0.25); border-color: #E0C584; font-weight: 700; }
        .calendar-day-today::after { content: ''; position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%); width: 5px; height: 5px; background: #E0C584; border-radius: 50%; }
        
        .time-slot-btn { transition: all 0.3s ease; position: relative; overflow: hidden; font-size: 1rem; }
        .time-slot-btn:hover { background: rgba(224,197,132,0.15); border-color: #E0C584; }
        .time-slot-selected { background: linear-gradient(135deg, rgba(224,197,132,0.25), rgba(224,197,132,0.15)) !important; border-color: #E0C584 !important; box-shadow: 0 0 0 2px rgba(224,197,132,0.3), 0 4px 12px rgba(224,197,132,0.2) !important; font-weight: 700; }

        .therapist-badge { background: linear-gradient(135deg, rgba(224,197,132,0.1), rgba(224,197,132,0.05)); border: 1px solid rgba(224,197,132,0.3); border-radius: 6px; padding: 0.75rem 1rem; }
        
        input:focus, select:focus, textarea:focus { box-shadow: 0 0 0 3px rgba(224, 197, 132, 0.1); }
        
        /* Select dropdown highlight colors */
        select {
            color: #F0E2C0;
        }

        select option {
            background-color: #0a0a0a !important;
            color: #F0E2C0 !important;
        }

        /* Option styling support varies by browser/OS; these rules override the default blue highlight where supported. */
        select option:hover,
        select option:focus,
        select option:active,
        select option:checked {
            background: rgba(224, 197, 132, 0.28) !important;
            background-color: rgba(224, 197, 132, 0.28) !important;
            color: #050505 !important;
        }

        
        
        .loading-shimmer { background: linear-gradient(90deg, rgba(224,197,132,0.1) 25%, rgba(224,197,132,0.2) 50%, rgba(224,197,132,0.1) 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }

        /* Skeleton Loader */
        .skeleton { background: linear-gradient(90deg, rgba(224,197,132,0.05) 25%, rgba(224,197,132,0.15) 50%, rgba(224,197,132,0.05) 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 4px; }

        /* Progress Steps */
        .progress-step { position: relative; flex: 1; }
        .progress-step::before { content: ''; position: absolute; top: 20px; left: 50%; width: 100%; height: 2px; background: rgba(224,197,132,0.2); z-index: 0; }
        .progress-step:first-child::before { left: 50%; width: 50%; }
        .progress-step:last-child::before { width: 50%; }
        .progress-step.active .step-circle { background: #E0C584; color: #000; border-color: #E0C584; }
        .progress-step.completed .step-circle { background: rgba(224,197,132,0.3); border-color: #E0C584; }
        .progress-step.completed::before { background: #E0C584; }
        .step-circle { width: 40px; height: 40px; border-radius: 50%; border: 2px solid rgba(224,197,132,0.3); background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; position: relative; z-index: 1; margin: 0 auto; transition: all 0.3s ease; }

        /* Sticky Bar */
        .sticky-bar { position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(5,5,5,0.98), rgba(5,5,5,0.95)); backdrop-filter: blur(20px); border-top: 1px solid rgba(224,197,132,0.3); z-index: 40; transform: translateY(100%); transition: transform 0.3s ease; box-shadow: 0 -4px 30px rgba(0,0,0,0.5); }
        .sticky-bar.show { transform: translateY(0); }

        /* Header hero section */
        .header-hero { 
            background: linear-gradient(to bottom, rgba(0,0,0,0.4), rgba(5,5,5,1)), url('https://static.wixstatic.com/media/bf8fef_94f8be278f0f4b8abaee73b95d03b5e2~mv2.png');
            background-size: cover;
            background-position: center;
        }

        /* Therapist Avatar */
        .therapist-avatar { width: 48px; height: 48px; border-radius: 50%; border: 2px solid #E0C584; object-fit: cover; }

        /* Payment Badge */
        .payment-badge { border: 1px solid rgba(224,197,132,0.25); }
        
        /* Arrow animations - Runway Cascade Effect */
        @keyframes cascade {
            0% { 
                opacity: 0.3;
                transform: translateY(-8px) scale(0.8);
            }
            50% { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% { 
                opacity: 0.3;
                transform: translateY(8px) scale(0.8);
            }
        }
        
        .animate-cascade-1 { 
            animation: cascade 1.5s ease-in-out infinite;
            animation-delay: 0s;
        }
        .animate-cascade-2 { 
            animation: cascade 1.5s ease-in-out infinite;
            animation-delay: 0.2s;
        }
        .animate-cascade-3 { 
            animation: cascade 1.5s ease-in-out infinite;
            animation-delay: 0.4s;
        }

        @media (max-width: 768px) {
            .calendar-grid { gap: 0.25rem; }
            .card-fancy { padding: 1.5rem 1rem; }
        }
    </style>

    <!-- Address autocomplete bootstrap -->
    <script>
        function initAllAutocompletes() {
            try {
                if (typeof google === 'undefined' || !google.maps || !google.maps.places) {
                    console.error("Google Maps API not loaded.");
                    return;
                }
                const addrInput = document.getElementById('address-input-initial');
                if (addrInput) {
                    const ac = new google.maps.places.Autocomplete(addrInput, {
                        componentRestrictions: { country: "ca" },
                        fields: ["address_components", "formatted_address"],
                        types: ["geocode"],
                    });
                    ac.addListener("place_changed", () => {
                        const place = ac.getPlace();
                        if (!place) return;
                        fillAddressFromPlace(place);
                    });
                }
            } catch (e) {
                console.warn("Maps init error", e);
            }
        }

        function fillAddressFromPlace(place) {
            try {
                let street = place.formatted_address || "";
                let city = "";
                let postal = "";
                let countryCode = "";
                let hasStreetNumber = false;
                
                if (place.address_components) {
                    for (const c of place.address_components) {
                        const t = c.types[0];
                        if (t === "street_number") hasStreetNumber = true;
                        if (t === "locality" || t === "administrative_area_level_3") city = c.long_name;
                        if (t === "postal_code") postal = c.long_name;
                        if (t === "country") countryCode = c.short_name || c.long_name || "";
                    }
                }

                // Restrict service addresses to Canada only
                if (countryCode && String(countryCode).toUpperCase() !== "CA") {
                    document.getElementById('address-input-initial').value = '';
                    alert('We currently serve Canadian addresses only (Ontario). Please enter a Canadian address.');
                    window.__selectedAddress = null;
                    return;
                }
                
                // Require street number for valid address
                if (!hasStreetNumber) {
                    document.getElementById('address-input-initial').value = '';
                    alert('Please enter a complete address with a street number (e.g., "123 Main St, Hamilton")');
                    window.__selectedAddress = null;
                    return;
                }
                
                window.__selectedAddress = { address: street, city, postal_code: normalizeCanadianPostal(postal), country_code: (countryCode ? String(countryCode).toUpperCase() : "CA") };
            } catch (e) {
                console.warn("fillAddressFromPlace error", e);
            }
        }

        // Canadian postal validation helpers (also used to block US ZIP codes)
        function normalizeCanadianPostal(postal) {
            const p = String(postal || "").toUpperCase().replace(/\s+/g, "").trim();
            if (p.length === 6) return p.slice(0,3) + " " + p.slice(3);
            return String(postal || "").toUpperCase().trim();
        }
        function isCanadianPostal(postal) {
            const p = String(postal || "").toUpperCase().replace(/\s+/g, "").trim();
            return /^[A-Z]\d[A-Z]\d[A-Z]\d$/.test(p);
        }
    </script>
    
    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
</head>

<body class="bg-brand-black selection:bg-brand-gold selection:text-black relative">

    <!-- NAVIGATION -->
    <nav id="navbar" class="fixed-nav">
        <div class="container mx-auto px-6 flex justify-between items-center h-20">
            <a href="index.html" class="flex items-center gap-3 no-underline group">
                <img src="https://static.wixstatic.com/media/bf8fef_511df25fad074d79a408119293545f75~mv2.png" alt="Relax & Renew Logo" class="h-10 w-auto transition-transform group-hover:scale-105">
                <div class="hidden md:flex flex-col">
                    <span class="text-brand-gold font-bold tracking-[0.2em] text-sm leading-none">RELAX & RENEW</span>
                    <span class="text-brand-light text-[0.65rem] tracking-[0.4em] uppercase opacity-70 leading-tight mt-1">Mobile RMT</span>
                </div>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center space-x-8 whitespace-nowrap">
                <a href="index.html#services" class="nav-link">Services</a>
                <a href="index.html#pricing" class="nav-link">Pricing</a>
                <a href="index.html#giftcards" class="nav-link">Gift Cards</a>
                <a href="index.html#area" class="nav-link">Service Area</a>
                <a href="index.html#faq" class="nav-link">FAQ</a>
                <a href="therapists.html" class="nav-link">Our Therapists</a>
                <a href="membership.html" class="nav-link text-brand-gold font-bold">Membership</a>
                <a href="/client-portal" class="nav-link text-brand-gold/80 hover:text-brand-gold">
                    <i data-lucide="user-check" class="w-4 h-4 inline mr-1"></i>
                    Client Portal
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="lg:hidden text-brand-gold p-2 hover:bg-brand-gold/10 rounded transition-colors">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="mobile-menu fixed top-0 right-0 h-full w-full md:w-80 bg-brand-black border-l border-brand-gold/30 z-50 lg:hidden overflow-y-auto">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <span class="text-brand-gold font-bold tracking-[0.2em] text-sm">MENU</span>
                <button id="mobile-menu-close" class="text-brand-gold p-2 hover:bg-brand-gold/10 rounded transition-colors">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="flex flex-col space-y-6">
                <a href="index.html#services" class="nav-link text-lg">Services</a>
                <a href="index.html#pricing" class="nav-link text-lg">Pricing</a>
                <a href="index.html#giftcards" class="nav-link text-lg">Gift Cards</a>
                <a href="index.html#area" class="nav-link text-lg">Service Area</a>
                <a href="index.html#faq" class="nav-link text-lg">FAQ</a>
                <a href="therapists.html" class="nav-link text-lg">Our Therapists</a>
                <a href="membership.html" class="nav-link text-lg text-brand-gold font-bold">Membership</a>
                <a href="/client-portal" class="nav-link text-lg text-brand-gold/80 hover:text-brand-gold border-t border-brand-gold/20 pt-6 mt-6">
                    <i data-lucide="user-check" class="w-5 h-5 inline mr-2"></i>
                    Client Portal
                </a>
            </div>
        </div>
    </div>

    <!-- HEADER HERO WITH PROGRESS INDICATOR -->
    <header class="header-hero pt-28 pb-16 border-b border-brand-gold/20">
        <div class="container mx-auto px-6 max-w-6xl">
            <!-- Progress Steps -->
            <div class="flex items-center justify-center mb-12 max-w-3xl mx-auto">
                <div class="progress-step active" id="step-1">
                    <div class="step-circle">
                        <i data-lucide="map-pin" class="w-5 h-5"></i>
                    </div>
                    <div class="text-center mt-3">
                        <div class="text-sm uppercase tracking-[0.15em] text-brand-gold font-bold">Step 1</div>
                        <div class="text-xs text
